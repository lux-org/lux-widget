{"version":3,"sources":["webpack://luxwidget/./lib/buttonsBroker.js","webpack://luxwidget/./lib/chartGallery.js","webpack://luxwidget/./lib/currentVis.js","webpack://luxwidget/./lib/infoBtn.js","webpack://luxwidget/./lib/scrollableContent.js","webpack://luxwidget/./lib/selectableCard.js","webpack://luxwidget/./lib/utils.js","webpack://luxwidget/./lib/version.js","webpack://luxwidget/./lib/warningBtn.js","webpack://luxwidget/./lib/widget.js"],"names":[],"mappings":";;;;;;;;;AAAa;AACb;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,6BAA6B,mBAAO,CAAC,oDAAO;AAC5C,0BAA0B,mBAAO,CAAC,wFAAiB;AACnD;AACA;AACA;AACA;AACA;AACA,eAAe,mHAAmH;AAClI;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,uHAAuH;AACvL,gEAAgE,uIAAuI;AACvM;AACA;AACA,gEAAgE,oDAAoD,sCAAsC,wDAAwD;AAClN,gEAAgE,qDAAqD,sCAAsC,sEAAsE;AACjO;AACA;AACA,gEAAgE,wHAAwH;AACxL;AACA;AACA,gEAAgE,qDAAqD,sCAAsC,mEAAmE;AAC9N;AACA;AACA;AACA,+EAA+E,yGAAyG;AACxL;AACA,oDAAoD,8FAA8F;AAClJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,yC;;;;;;;;;;;AC/Da;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,6BAA6B,mBAAO,CAAC,oDAAO;AAC5C,yCAAyC,mBAAO,CAAC,iDAAkB;AACnE,qBAAqB,mBAAO,CAAC,yEAAY;AACzC,4CAA4C,mBAAO,CAAC,uDAAqB;AACzE,gBAAgB,mBAAO,CAAC,+BAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,4EAA4E;AAClI,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;;;;;;;ACzCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,6BAA6B,mBAAO,CAAC,oDAAO;AAC5C,gBAAgB,mBAAO,CAAC,+BAAS;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,+BAA+B,iBAAiB,8EAA8E;AACpL,kDAAkD,sEAAsE;AACxH,kDAAkD,4CAA4C,6FAA6F,EAAE;AAC7L,oDAAoD,iCAAiC,6FAA6F,EAAE;AACpL;AACA,wDAAwD,sDAAsD;AAC9G,wDAAwD,uDAAuD;AAC/G;AACA;AACA;AACA,eAAe;AACf,6C;;;;;;;;;;;AC3Ga;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,gCAAgC,mBAAO,CAAC,oDAAO;AAC/C;AACA;AACA;AACA;AACA,sDAAsD,4BAA4B,0BAA0B,EAAE;AAC9G,kDAAkD,oDAAoD;AACtG;AACA,sDAAsD,qBAAqB;AAC3E,2DAA2D,yBAAyB;AACpF;AACA;AACA,eAAe;AACf,0C;;;;;;;;;;;AC/Ba;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,wBAAwB;AACxB;AACA,qBAAqB;AACrB;AACA,4CAA4C,YAAY,mCAAmC,EAAE;AAC7F;AACA;AACA;AACA,wBAAwB;AACxB,iC;;;;;;;;;;;ACxBa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,mBAAmB,GAAG,sBAAsB;AAC5C,aAAa,mBAAO,CAAC,uCAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,mBAAmB;AACnB,mC;;;;;;;;;;;AC5Ba;AACb;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,6BAA6B,mBAAO,CAAC,oDAAO;AAC5C;AACA;AACA;AACA;AACA;AACA,eAAe,2CAA2C;AAC1D;AACA;AACA;AACA,0DAA0D,gGAAgG;AAC1J,4DAA4D,sCAAsC,2CAA2C,EAAE;AAC/I,oDAAoD,qDAAqD,kBAAkB,EAAE;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,sC;;;;;;;;;;;ACzCa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA,yCAAyC,6BAA6B;AACtE,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,qBAAqB,GAAG,gBAAgB;AACxC,eAAe,mBAAO,CAAC,0GAAuB;AAC9C,kBAAkB,mBAAO,CAAC,mCAAW;AACrC,mBAAO,CAAC,2CAAmB;AAC3B,2BAA2B,mBAAO,CAAC,oDAAO;AAC1C,8BAA8B,mBAAO,CAAC,4DAAW;AACjD,iCAAiC,mBAAO,CAAC,+CAAQ;AACjD,0BAA0B,mBAAO,CAAC,wFAAiB;AACnD,uCAAuC,mBAAO,CAAC,6CAAgB;AAC/D,qCAAqC,mBAAO,CAAC,yCAAc;AAC3D,gBAAgB,mBAAO,CAAC,+BAAS;AACjC,wCAAwC,mBAAO,CAAC,+CAAiB;AACjE,qCAAqC,mBAAO,CAAC,yCAAc;AAC3D,kCAAkC,mBAAO,CAAC,mCAAW;AACrD;AACA;AACA,6CAA6C,sBAAsB,wPAAwP;AAC3T;AACA;AACA,gBAAgB;AAChB,uCAAuC;AACvC;AACA;AACA;AACA,qCAAqC;AACrC,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,+BAA+B,oDAAoD;AACnF;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,wCAAwC;AACxC,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,qBAAqB;AACxD;AACA;AACA;AACA,mCAAmC,oBAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA,mCAAmC,iBAAiB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,+CAA+C;AAC/C;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,wCAAwC;AACxC;AACA,iBAAiB;AACjB;AACA,+BAA+B,oDAAoD;AACnF;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0IAA0I,4DAA4D;AACtM;AACA;AACA;AACA,uB;AACA;AACA;AACA,2YAA2Y;AAC3Y;AACA;AACA;AACA,uDAAuD,+BAA+B,kBAAkB,EAAE;AAC1G,oDAAoD,yDAAyD;AAC7G;AACA,sDAAsD,qDAAqD,qDAAqD,EAAE;AAClK;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,uCAAuC,0BAA0B,EAAE;AAC3H,oDAAoD,SAAS,wDAAwD,EAAE;AACvH,uEAAuE,0MAA0M;AACjR,sEAAsE,+QAA+Q;AACrV;AACA;AACA;AACA,wDAAwD,gCAAgC,0BAA0B,EAAE;AACpH,oDAAoD,SAAS,wDAAwD,EAAE;AACvH,uEAAuE,0MAA0M;AACjR,wDAAwD,kBAAkB;AAC1E,0DAA0D,yCAAyC,sFAAsF,EAAE;AAC3L,6EAA6E,2KAA2K;AACxP,sEAAsE,+QAA+Q;AACrV,gEAAgE,4GAA4G;AAC5K,mEAAmE,gHAAgH;AACnL;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC,6BAA6B;AAC7B;AACA;AACA;AACA,qBAAqB;AACrB,kC","file":"lib_widget_js.1d11dc13862e3fe4539e.js","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importStar(require(\"react\"));\nconst react_bootstrap_1 = require(\"react-bootstrap\");\nclass ButtonsBroker extends react_1.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        const { buttonsEnabled, tabItems, deleteSelection, exportSelection, setIntent, closeExportInfo, showAlert, intentEnabled } = this.props;\n        let deleteBtn;\n        let exportBtn;\n        let intentBtn;\n        let alertBox;\n        if (tabItems.length > 0) {\n            if (buttonsEnabled) {\n                deleteBtn = react_1.default.createElement(\"i\", { id: \"deleteBtn\", className: \"fa fa-trash\", title: 'Delete selected visualizations', onClick: () => deleteSelection() });\n                exportBtn = react_1.default.createElement(\"i\", { id: \"exportBtn\", className: 'fa fa-upload', title: 'Export selected visualizations into variable', onClick: (e) => exportSelection() });\n            }\n            else {\n                deleteBtn = react_1.default.createElement(\"i\", { id: \"deleteBtn\", className: \"fa fa-trash\", style: { opacity: 0.2, cursor: 'not-allowed' }, title: 'Select one or more visualizations to delete' });\n                exportBtn = react_1.default.createElement(\"i\", { id: \"exportBtn\", className: 'fa fa-upload', style: { opacity: 0.2, cursor: 'not-allowed' }, title: 'Select one or more visualizations to export into variable' });\n            }\n            if (buttonsEnabled && intentEnabled) {\n                intentBtn = react_1.default.createElement(\"i\", { id: \"intentBtn\", className: \"fa fa-search\", title: 'Set selected visualization as intent', onClick: () => setIntent() });\n            }\n            else {\n                intentBtn = react_1.default.createElement(\"i\", { id: \"intentBtn\", className: \"fa fa-search\", style: { opacity: 0.2, cursor: 'not-allowed' }, title: 'Select no more than one visualization to set as intent' });\n            }\n        }\n        if (showAlert) {\n            alertBox = react_1.default.createElement(react_bootstrap_1.Alert, { id: \"alertBox\", key: \"infoAlert\", variant: \"info\", onClose: () => closeExportInfo(), dismissible: true },\n                \"Access exported visualizations via the property `exported` (\",\n                react_1.default.createElement(\"a\", { href: \"https://lux-api.readthedocs.io/en/latest/source/guide/export.html\", target: \"_blank\" }, \"More details\"),\n                \")\");\n        }\n        return (react_1.default.createElement(\"div\", null,\n            deleteBtn,\n            alertBox,\n            intentBtn,\n            exportBtn));\n    }\n}\nexports.default = ButtonsBroker;\n//# sourceMappingURL=buttonsBroker.js.map","\"use strict\";\n//  Copyright 2019-2020 The Lux Authors.\n// \n//  Licensed under the Apache License, Version 2.0 (the \"License\");\n//  you may not use this file except in compliance with the License.\n//  You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n//  Unless required by applicable law or agreed to in writing, software\n//  distributed under the License is distributed on an \"AS IS\" BASIS,\n//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//  See the License for the specific language governing permissions and\n//  limitations under the License.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importStar(require(\"react\"));\nconst selectableCard_1 = __importDefault(require(\"./selectableCard\"));\nconst react_vega_1 = require(\"react-vega\");\nconst scrollableContent_1 = __importDefault(require(\"./scrollableContent\"));\nconst utils_1 = require(\"./utils\");\nclass ChartGalleryComponent extends react_1.Component {\n    constructor(props) {\n        super(props);\n        var selected = props.multiple ? [] : -1;\n        var initialState = {\n            selected: selected,\n        };\n        this.state = initialState;\n    }\n    onItemSelected(index) {\n        // Implementation based on https://codepen.io/j-burgos/pen/VpQxLv\n        this.setState((prevState, props) => {\n            if (props.multiple) {\n                var selectedIndexes = prevState.selected;\n                var selectedIndex = selectedIndexes.indexOf(index);\n                if (selectedIndex > -1) {\n                    // dispatchLogEvent(\"unclickVis\",{\"tabTitle\":this.props.title,\"index\":index,\"vis\":this.props.graphSpec[index]});\n                    utils_1.dispatchLogEvent(\"unclickVis\", { \"tabTitle\": this.props.title, \"index\": index,\n                        \"title\": this.props.graphSpec[index]['title'],\n                        \"mark\": this.props.graphSpec[index]['mark'],\n                        \"encoding\": this.props.graphSpec[index]['encoding'] });\n                    selectedIndexes = selectedIndexes.filter(item => item != index);\n                    props.onChange(selectedIndexes);\n                }\n                else {\n                    // dispatchLogEvent(\"clickVis\",{\"tabTitle\":this.props.title,\"index\":index,\"vis\":this.props.graphSpec[index]});\n                    utils_1.dispatchLogEvent(\"clickVis\", { \"tabTitle\": this.props.title, \"index\": index,\n                        \"title\": this.props.graphSpec[index]['title'],\n                        \"mark\": this.props.graphSpec[index]['mark'],\n                        \"encoding\": this.props.graphSpec[index]['encoding'] });\n                    if (!(selectedIndexes.length >= props.maxSelectable)) {\n                        selectedIndexes.push(index);\n                        props.onChange(selectedIndexes);\n                    }\n                }\n                return {\n                    selected: selectedIndexes\n                };\n            }\n            else {\n                utils_1.dispatchLogEvent(\"clickVis\", index);\n                props.onChange(index);\n                return {\n                    selected: index\n                };\n            }\n        });\n    }\n    removeDeletedCharts() {\n        this.setState({ selected: [] });\n    }\n    render() {\n        return (react_1.default.createElement(\"div\", { className: \"chartGalleryTabContent\" },\n            react_1.default.createElement(\"p\", { className: \"text-description\", dangerouslySetInnerHTML: { __html: this.props.description } }),\n            react_1.default.createElement(scrollableContent_1.default, { galleryItems: this.props.graphSpec.map((item, idx) => react_1.default.createElement(\"div\", { key: idx.toString(), className: \"graph-container\", id: \"graph-container-\".concat(idx.toString()) }, this.state.selected.indexOf(idx) > -1 ?\n                    react_1.default.createElement(selectableCard_1.default, { key: idx, selected: true, onClick: (e) => { this.onItemSelected(idx); } }, 'vislib' in item && 'config' in item && JSON.stringify(item['vislib']).substring(1, JSON.stringify(item['vislib']).length - 1) === 'matplotlib' ?\n                        react_1.default.createElement(\"img\", { id: \"gal-img\", src: \"data:image/png;base64,\" + JSON.stringify(item['config']).substring(1, JSON.stringify(item['config']).length - 1) + \"\\ \", style: { height: `${160 * this.props.plottingScale}px`, width: `${185 * this.props.plottingScale}px` } }) :\n                        react_1.default.createElement(react_vega_1.VegaLite, { spec: item, padding: { left: 10, top: 5, right: 5, bottom: 5 }, actions: false }))\n                    :\n                        react_1.default.createElement(selectableCard_1.default, { key: idx, selected: false, onClick: (e) => { this.onItemSelected(idx); } }, 'vislib' in item && 'config' in item && JSON.stringify(item['vislib']).substring(1, JSON.stringify(item['vislib']).length - 1) === 'matplotlib' ?\n                            react_1.default.createElement(\"img\", { id: \"gal-img\", src: \"data:image/png;base64,\" + JSON.stringify(item['config']).substring(1, JSON.stringify(item['config']).length - 1) + \"\\ \", style: { height: `${160 * this.props.plottingScale}px`, width: `${185 * this.props.plottingScale}px` } }) :\n                            react_1.default.createElement(react_vega_1.VegaLite, { spec: item, padding: { left: 10, top: 5, right: 5, bottom: 5 }, actions: false })))), title: this.props.title, currentVisShow: this.props.currentVisShow, plottingScale: this.props.plottingScale })));\n    }\n}\nexports.default = ChartGalleryComponent;\n//# sourceMappingURL=chartGallery.js.map","\"use strict\";\n//  Copyright 2019-2020 The Lux Authors.\n// \n//  Licensed under the Apache License, Version 2.0 (the \"License\");\n//  you may not use this file except in compliance with the License.\n//  You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n//  Unless required by applicable law or agreed to in writing, software\n//  distributed under the License is distributed on an \"AS IS\" BASIS,\n//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//  See the License for the specific language governing permissions and\n//  limitations under the License.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importStar(require(\"react\"));\nconst react_vega_1 = require(\"react-vega\");\nconst selectableCard_1 = __importDefault(require(\"./selectableCard\"));\nconst lodash_1 = __importDefault(require(\"lodash\"));\nconst styles_1 = require(\"@material-ui/core/styles\");\nconst Button_1 = __importDefault(require(\"@material-ui/core/Button\"));\nconst Tooltip_1 = __importDefault(require(\"@material-ui/core/Tooltip\"));\nclass CurrentVisComponent extends react_1.Component {\n    constructor(props) {\n        super(props);\n        var initialState = {\n            selected: -1\n        };\n        this.state = initialState;\n    }\n    onItemSelected() {\n        if (this.state.selected == 0) {\n            this.setState({\n                selected: -1\n            });\n            this.props.onChange(-2);\n        }\n        else {\n            this.setState({\n                selected: 0\n            });\n            this.props.onChange(-1);\n        }\n    }\n    render() {\n        if (!lodash_1.default.isEmpty(this.props.currentVisSpec)) {\n            var vislib = \"vegalite\";\n            var img_str = \"\";\n            if ('vislib' in this.props.currentVisSpec && 'config' in this.props.currentVisSpec) {\n                vislib = JSON.stringify(this.props.currentVisSpec['vislib']);\n                vislib = vislib.substring(1, vislib.length - 1);\n                const png_string = JSON.stringify(this.props.currentVisSpec['config']);\n                img_str = \"data:image/png;base64,\" + png_string.substring(1, png_string.length - 1) + \"\\ \";\n            }\n            if (this.props.numRecommendations == 0) {\n                return (react_1.default.createElement(\"div\", { className: \"vizContainer\", style: { display: 'flex', justifyContent: 'center', width: '320px' } }, vislib === 'matplotlib' ?\n                    react_1.default.createElement(\"img\", { id: \"cur-img\", src: img_str, style: { height: `${160 * this.props.plottingScale}px`, width: `${185 * this.props.plottingScale}px` } }) :\n                    react_1.default.createElement(react_vega_1.VegaLite, { spec: this.props.currentVisSpec, padding: { left: 0, top: 5, right: 5, bottom: 5 }, actions: false })));\n            }\n            else {\n                const styles = {\n                    tooltip: {\n                        width: \"100px\",\n                        fontSize: \"13px\",\n                        marginTop: \"10px\",\n                        textAlign: 'center'\n                    }\n                };\n                const CustomTooltip = styles_1.withStyles(styles)(Tooltip_1.default);\n                const width = (300 + (this.props.plottingScale - 1) * 185).toString() + \"px\";\n                return (react_1.default.createElement(\"div\", { id: \"mainVizContainer\", style: { width: width } },\n                    react_1.default.createElement(\"div\", null, this.props.currentVisSpec[\"allcols\"] ?\n                        react_1.default.createElement(\"div\", { className: \"text-container-style\" },\n                            react_1.default.createElement(\"p\", { className: \"title-description\", style: { fontSize: '20px', height: '15px', display: 'inline', top: '10px', left: '20px' } }, \"Dataframe Visualization\"),\n                            react_1.default.createElement(\"p\", { className: \"text-description\", style: { top: '40px', left: '10px', marginTop: '40px' } }, \"based on all columns in the dataframe\")) :\n                        react_1.default.createElement(\"div\", { className: \"text-container-style\" },\n                            react_1.default.createElement(\"p\", { className: \"title-description\", style: { fontSize: '20px', height: '15px', display: 'inline', top: '10px', left: '40px' } }, \"Current Visualization\"),\n                            react_1.default.createElement(\"p\", { className: \"text-description\", style: { top: '40px', left: '40px', marginTop: '40px' } },\n                                \"based on user specified\\u00A0\",\n                                react_1.default.createElement(CustomTooltip, { title: this.props.intent, arrow: true },\n                                    react_1.default.createElement(Button_1.default, { style: { fontSize: \"13px\", minWidth: \"0px\", padding: \"0px\", background: \"aliceblue\", textTransform: \"none\", borderBottom: \"1px dotted #505050\" } }, \"intent\"))))),\n                    react_1.default.createElement(\"div\", { id: \"mainVizInnerContainer\" },\n                        react_1.default.createElement(\"div\", { className: \"vizContainer\", style: { display: 'flex', justifyContent: 'center' } },\n                            react_1.default.createElement(selectableCard_1.default, { key: 0, selected: this.state.selected > -1, onClick: (e) => this.onItemSelected() }, vislib === 'matplotlib' ?\n                                react_1.default.createElement(\"img\", { id: \"cur-img\", src: img_str, style: { height: `${160 * this.props.plottingScale}px`, width: `${185 * this.props.plottingScale}px` } }) :\n                                react_1.default.createElement(react_vega_1.VegaLite, { spec: this.props.currentVisSpec, padding: { left: 10, top: 5, right: 5, bottom: 5 }, width: 185 * this.props.plottingScale, height: 160 * this.props.plottingScale, actions: false }))))));\n            }\n        }\n        else {\n            return (react_1.default.createElement(\"div\", { className: \"placeHolderVizContainer\" }));\n        }\n    }\n}\nexports.default = CurrentVisComponent;\n//# sourceMappingURL=currentVis.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importStar(require(\"react\"));\nclass InfoBtn extends react_1.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        const { message, toggleInfoPanel, openInfo } = this.props;\n        let infoBtn;\n        let infoMsg;\n        if (message != \"\") {\n            infoBtn = react_1.default.createElement(\"i\", { id: \"infoBtn\", className: 'fa fa-info-circle', onClick: (e) => toggleInfoPanel(e) });\n            infoMsg = react_1.default.createElement(\"div\", { className: \"info-footer\", style: { display: (openInfo) ? 'flex' : 'none' } },\n                react_1.default.createElement(\"p\", { className: \"infoMsgText\", dangerouslySetInnerHTML: { __html: message } }));\n        }\n        return (react_1.default.createElement(\"span\", null,\n            infoBtn,\n            infoMsg));\n    }\n}\nexports.default = InfoBtn;\n//# sourceMappingURL=infoBtn.js.map","\"use strict\";\n//  Copyright 2019-2020 The Lux Authors.\n// \n//  Licensed under the Apache License, Version 2.0 (the \"License\");\n//  you may not use this file except in compliance with the License.\n//  You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n//  Unless required by applicable law or agreed to in writing, software\n//  distributed under the License is distributed on an \"AS IS\" BASIS,\n//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//  See the License for the specific language governing permissions and\n//  limitations under the License.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importStar(require(\"react\"));\nconst utils_1 = require(\"./utils\");\nclass ScrollableContent extends react_1.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isScrolling: false,\n            firstScroll: true,\n            scrollIndicator: true,\n        };\n        this.handleScroll = this.handleScroll.bind(this);\n        this.scrollStartStopListener = this.scrollStartStopListener.bind(this);\n    }\n    handleScroll(event) {\n        this.setState({\n            scrollIndicator: false,\n        });\n        var component = this;\n        this.scrollStartStopListener(function () {\n            utils_1.dispatchLogEvent(\"stopScroll\", component.props.title);\n            component.setState({\n                firstScroll: true,\n            });\n        });\n    }\n    scrollStartStopListener(callback) {\n        if (!callback || typeof callback !== 'function')\n            return;\n        if (this.state.firstScroll) {\n            utils_1.dispatchLogEvent(\"startScroll\", this.props.title);\n            this.setState({\n                firstScroll: false,\n            });\n        }\n        window.clearTimeout(this.state.isScrolling); // Clear our timeout throughout the scroll\n        // Set timeout to run after scrolling ends --> after timeout, set `isScrolling` \n        this.setState({\n            isScrolling: setTimeout(function () {\n                callback();\n            }, 60)\n        });\n    }\n    ;\n    render() {\n        let shouldShowScrollIndicator = false;\n        let numMoreCharts = this.props.galleryItems.length;\n        if (this.props.currentVisShow && this.props.galleryItems.length > 2) {\n            shouldShowScrollIndicator = true;\n            numMoreCharts -= 2;\n        }\n        else if (!this.props.currentVisShow && this.props.galleryItems.length > 3) {\n            shouldShowScrollIndicator = true;\n            numMoreCharts -= 3;\n        }\n        var scrollDescription;\n        if (numMoreCharts == 1) {\n            scrollDescription = \"Scroll for \" + numMoreCharts + \" more chart\";\n        }\n        else {\n            scrollDescription = \"Scroll for \" + numMoreCharts + \" more charts\";\n        }\n        const height = (130 + (this.props.plottingScale * 160)).toString() + \"px\";\n        return (react_1.default.createElement(\"div\", { id: \"staticOuterDiv\", style: { height: height }, className: \"recommendationStaticContentOuter\", onScroll: this.handleScroll },\n            react_1.default.createElement(\"div\", { id: \"mult-graph-container\", className: \"recommendationContentInner\" }, this.props.galleryItems),\n            react_1.default.createElement(\"div\", { id: \"scroll-indicator-background\", style: { visibility: this.state.scrollIndicator && shouldShowScrollIndicator ? 'visible' : 'hidden' } },\n                react_1.default.createElement(\"p\", { id: \"scroll-indicator\", style: { visibility: this.state.scrollIndicator && shouldShowScrollIndicator ? 'visible' : 'hidden' } },\n                    scrollDescription,\n                    react_1.default.createElement(\"i\", { id: 'first-arrow', className: 'fa fa-chevron-right' }),\n                    react_1.default.createElement(\"i\", { id: 'second-arrow', className: 'fa fa-chevron-right' }),\n                    \" \"))));\n    }\n}\nexports.default = ScrollableContent;\n//# sourceMappingURL=scrollableContent.js.map","\"use strict\";\n//  Copyright 2019-2020 The Lux Authors.\n// \n//  Licensed under the Apache License, Version 2.0 (the \"License\");\n//  you may not use this file except in compliance with the License.\n//  You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n//  Unless required by applicable law or agreed to in writing, software\n//  distributed under the License is distributed on an \"AS IS\" BASIS,\n//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//  See the License for the specific language governing permissions and\n//  limitations under the License.\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importDefault(require(\"react\"));\nclass SelectableCard extends react_1.default.Component {\n    render() {\n        var isSelected = this.props.selected ? \"selected\" : \"\";\n        var className = \"selectable \" + isSelected;\n        return (react_1.default.createElement(\"div\", { className: \"card\", style: { display: 'inline-block' } },\n            react_1.default.createElement(\"div\", { className: className, onClick: this.props.onClick },\n                this.props.children,\n                react_1.default.createElement(\"div\", { className: \"check\" },\n                    react_1.default.createElement(\"span\", { className: \"checkmark\" }, \"\\u2714\")))));\n    }\n}\nexports.default = SelectableCard;\n//# sourceMappingURL=selectableCard.js.map","\"use strict\";\n//  Copyright 2019-2020 The Lux Authors.\n// \n//  Licensed under the Apache License, Version 2.0 (the \"License\");\n//  you may not use this file except in compliance with the License.\n//  You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n//  Unless required by applicable law or agreed to in writing, software\n//  distributed under the License is distributed on an \"AS IS\" BASIS,\n//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//  See the License for the specific language governing permissions and\n//  limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dispatchLogEvent = void 0;\nconst dispatchLogEvent = function (action, param) {\n    const LOG = true; // toggle log on/off \n    if (LOG) {\n        var event = new CustomEvent(\"LOG\", { \"detail\": { \"action\": action, \"param\": param } });\n        document.dispatchEvent(event);\n    }\n};\nexports.dispatchLogEvent = dispatchLogEvent;\n//# sourceMappingURL=utils.js.map","\"use strict\";\n//  Copyright 2019-2020 The Lux Authors.\n// \n//  Licensed under the Apache License, Version 2.0 (the \"License\");\n//  you may not use this file except in compliance with the License.\n//  You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n//  Unless required by applicable law or agreed to in writing, software\n//  distributed under the License is distributed on an \"AS IS\" BASIS,\n//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//  See the License for the specific language governing permissions and\n//  limitations under the License.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MODULE_NAME = exports.MODULE_VERSION = void 0;\nconst data = require('../package.json');\n/**\n * The _model_module_version/_view_module_version this package implements.\n *\n * The html widget manager assumes that this is the same as the npm package\n * version number.\n */\nexports.MODULE_VERSION = data.version;\n/*\n * The current package name.\n */\nexports.MODULE_NAME = data.name;\n//# sourceMappingURL=version.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = __importStar(require(\"react\"));\nclass WarningBtn extends react_1.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        const { message, toggleWarningPanel, openWarning } = this.props;\n        let warnBtn;\n        let warnMsg;\n        if (message != \"\") {\n            warnBtn = react_1.default.createElement(\"i\", { id: \"warnBtn\", className: 'fa fa-exclamation-triangle', onClick: (e) => toggleWarningPanel(e) });\n            warnMsg = react_1.default.createElement(\"div\", { className: \"warning-footer\", style: { display: (openWarning) ? 'flex' : 'none' } },\n                react_1.default.createElement(\"p\", { className: \"warnMsgText\", dangerouslySetInnerHTML: { __html: message } }));\n        }\n        return (react_1.default.createElement(\"div\", null,\n            warnBtn,\n            warnMsg));\n    }\n}\nexports.default = WarningBtn;\n//# sourceMappingURL=warningBtn.js.map","\"use strict\";\n//  Copyright 2019-2020 The Lux Authors.\n// \n//  Licensed under the Apache License, Version 2.0 (the \"License\");\n//  you may not use this file except in compliance with the License.\n//  You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n//  Unless required by applicable law or agreed to in writing, software\n//  distributed under the License is distributed on an \"AS IS\" BASIS,\n//  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//  See the License for the specific language governing permissions and\n//  limitations under the License.\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LuxWidgetView = exports.LuxModel = void 0;\nconst base_1 = require(\"@jupyter-widgets/base\");\nconst version_1 = require(\"./version\");\nrequire(\"../style/base.css\");\nconst React = __importStar(require(\"react\"));\nconst ReactDOM = __importStar(require(\"react-dom\"));\nconst lodash_1 = __importDefault(require(\"lodash\"));\nconst react_bootstrap_1 = require(\"react-bootstrap\");\nconst chartGallery_1 = __importDefault(require(\"./chartGallery\"));\nconst currentVis_1 = __importDefault(require(\"./currentVis\"));\nconst utils_1 = require(\"./utils\");\nconst buttonsBroker_1 = __importDefault(require(\"./buttonsBroker\"));\nconst warningBtn_1 = __importDefault(require(\"./warningBtn\"));\nconst infoBtn_1 = __importDefault(require(\"./infoBtn\"));\nclass LuxModel extends base_1.DOMWidgetModel {\n    defaults() {\n        return Object.assign(Object.assign({}, super.defaults()), { _model_name: LuxModel.model_name, _model_module: LuxModel.model_module, _model_module_version: LuxModel.model_module_version, _view_name: LuxModel.view_name, _view_module: LuxModel.view_module, _view_module_version: LuxModel.model_module_version });\n    }\n}\nexports.LuxModel = LuxModel;\nLuxModel.serializers = Object.assign({}, base_1.DOMWidgetModel.serializers);\nLuxModel.model_name = 'LuxModel';\nLuxModel.model_module = version_1.MODULE_NAME;\nLuxModel.model_module_version = version_1.MODULE_VERSION;\nLuxModel.view_name = 'LuxWidgetView'; // Set to null if no view\nLuxModel.view_module = version_1.MODULE_NAME; // Set to null if no view\nLuxModel.view_module_version = version_1.MODULE_VERSION;\nclass LuxWidgetView extends base_1.DOMWidgetView {\n    initialize() {\n        let view = this;\n        class ReactWidget extends React.Component {\n            constructor(props) {\n                super(props);\n                this.chartComponents = Array();\n                this.handleCurrentVisSelect = (selectedValue) => {\n                    this.setState({ currentVisSelected: selectedValue }, () => {\n                        if (selectedValue == -1) {\n                            this.onListChanged(-1, null);\n                        }\n                        else {\n                            this.onListChanged(-2, null);\n                        }\n                    });\n                };\n                for (var i = 0; i < this.props.model.get(\"recommendations\").length; i++) {\n                    this.chartComponents.push(React.createRef());\n                }\n                this.state = {\n                    currentVis: props.model.get(\"current_vis\"),\n                    recommendations: props.model.get(\"recommendations\"),\n                    intent: props.model.get(\"intent\"),\n                    selectedIntentIndex: {},\n                    message: props.model.get(\"message\"),\n                    longDescription: this.generateDescription(null),\n                    tabItems: this.generateTabItems(),\n                    activeTab: props.activeTab,\n                    showAlert: false,\n                    selectedRec: {},\n                    _selectedVisIdxs: {},\n                    deletedIndices: {},\n                    currentVisSelected: -2,\n                    openWarning: false,\n                    openInfo: false,\n                    plottingScale: props.model.get(\"plotting_scale\")\n                };\n                // This binding is necessary to make `this` work in the callback\n                this.handleCurrentVisSelect = this.handleCurrentVisSelect.bind(this);\n                this.handleSelect = this.handleSelect.bind(this);\n                this.exportSelection = this.exportSelection.bind(this);\n                this.toggleWarningPanel = this.toggleWarningPanel.bind(this);\n                this.deleteSelection = this.deleteSelection.bind(this);\n                this.setIntent = this.setIntent.bind(this);\n                this.closeExportInfo = this.closeExportInfo.bind(this);\n                this.toggleInfoPanel = this.toggleInfoPanel.bind(this);\n            }\n            toggleWarningPanel(e) {\n                if (this.state.openWarning) {\n                    utils_1.dispatchLogEvent(\"closeWarning\", this.state.message);\n                    this.setState({ openWarning: false });\n                }\n                else {\n                    utils_1.dispatchLogEvent(\"openWarning\", this.state.message);\n                    this.setState({ openWarning: true });\n                }\n            }\n            // called to toggle the long description panel\n            toggleInfoPanel(e) {\n                if (this.state.openInfo) {\n                    utils_1.dispatchLogEvent(\"closeInfo\", this.state.longDescription);\n                    this.setState({ openInfo: false });\n                }\n                else {\n                    utils_1.dispatchLogEvent(\"openInfo\", this.state.longDescription);\n                    this.setState({ openInfo: true });\n                }\n            }\n            // called to close alert pop up upon export button hit by user\n            closeExportInfo() {\n                utils_1.dispatchLogEvent(\"closeExportInfo\", null);\n                this.setState({\n                    showAlert: false\n                });\n            }\n            // called when the variable is changed in the view.model\n            onChange(model) {\n                this.setState(model.changed);\n            }\n            // triggered when component is mounted (i.e., when widget first rendered)\n            componentDidMount() {\n                view.listenTo(view.model, \"change\", this.onChange.bind(this));\n            }\n            // triggered after component is updated\n            // instead of touch (which leads to callback issues), we have to use save_changes\n            componentDidUpdate() {\n                view.model.save_changes();\n            }\n            // populates the long description\n            generateDescription(selectedTab) {\n                // selectedTab starts out as null and is populated on switches of tabs\n                if (!selectedTab) {\n                    // takes care of init, sets to first longDescription in recommendations list\n                    if (this.props.model.get(\"recommendations\").length > 0) {\n                        selectedTab = this.props.model.get(\"recommendations\")[0].action;\n                    }\n                    else {\n                        return \"\";\n                    }\n                }\n                var description = \"\";\n                for (var recommendation of this.props.model.get(\"recommendations\")) {\n                    if (recommendation.action === selectedTab) {\n                        description = recommendation.long_description;\n                    }\n                }\n                return description;\n            }\n            handleSelect(selectedTab) {\n                // The active tab must be set into the state so that\n                // the Tabs component knows about the change and re-renders.\n                if (selectedTab) {\n                    utils_1.dispatchLogEvent(\"switchTab\", selectedTab);\n                }\n                var description = this.generateDescription(selectedTab);\n                this.setState({\n                    activeTab: selectedTab,\n                    longDescription: description\n                });\n            }\n            onListChanged(tabIdx, selectedLst) {\n                // Example _selectedVisIdxs : {'Correlation': [0, 2], 'Occurrence': [1]}\n                var _selectedVisIdxs = {};\n                this.state.selectedRec[tabIdx] = selectedLst; // set selected elements as th selectedRec of this tab\n                for (var tabID of Object.keys(this.state.selectedRec)) {\n                    if (tabID in this.state.recommendations) {\n                        var actionName = this.state.recommendations[tabID][\"action\"];\n                        if (this.state.selectedRec[tabID].length > 0) {\n                            _selectedVisIdxs[actionName] = this.state.selectedRec[tabID];\n                        }\n                    }\n                    else if (this.state.currentVisSelected == -1) {\n                        _selectedVisIdxs[\"currentVis\"] = this.state.currentVis;\n                    }\n                }\n                this.setState({\n                    _selectedVisIdxs: _selectedVisIdxs\n                });\n            }\n            exportSelection() {\n                utils_1.dispatchLogEvent(\"exportBtnClick\", this.state._selectedVisIdxs);\n                this.setState(state => ({\n                    showAlert: true\n                }));\n                // Expire alert box in 1 minute\n                setTimeout(() => {\n                    this.setState(state => ({\n                        showAlert: false\n                    }));\n                }, 60000);\n                view.model.set('_selectedVisIdxs', this.state._selectedVisIdxs);\n                view.model.save();\n            }\n            /*\n             * Goes through all selections and removes and clears any selections across recommendation tabs.\n             * Changing deletedIndices triggers an observer in the backend to update backend data structure.\n             * Re-renders each tab's chart component, with the updated recommendations.\n             */\n            deleteSelection() {\n                utils_1.dispatchLogEvent(\"deleteBtnClick\", this.state._selectedVisIdxs);\n                var currDeletions = this.state._selectedVisIdxs;\n                // Deleting from the frontend's visualization data structure\n                for (var recommendation of this.state.recommendations) {\n                    if (this.state._selectedVisIdxs[recommendation.action]) {\n                        let delCount = 0;\n                        for (var index of this.state._selectedVisIdxs[recommendation.action]) {\n                            recommendation.vspec.splice(index - delCount, 1);\n                            delCount++;\n                        }\n                    }\n                }\n                this.setState({\n                    selectedRec: {},\n                    _selectedVisIdxs: {},\n                    deletedIndices: currDeletions\n                });\n                // Re-render each tab's components to update deletions on front end\n                for (var i = 0; i < this.props.model.get(\"recommendations\").length; i++) {\n                    this.chartComponents[i].current.removeDeletedCharts();\n                }\n                view.model.set('deletedIndices', currDeletions);\n                view.model.set('_selectedVisIdxs', {});\n                view.model.save();\n            }\n            /*\n             * Set selected Vis as intent and re-renders widget to update to new view.\n             * Shows warning if user tries to select more than one Vis card.\n             */\n            setIntent() {\n                utils_1.dispatchLogEvent(\"intentBtnClick\", this.state._selectedVisIdxs);\n                if (Object.keys(this.state._selectedVisIdxs).length == 1) {\n                    var action = Object.keys(this.state._selectedVisIdxs)[0];\n                    if (this.state._selectedVisIdxs[action].length == 1) {\n                        view.model.set('selectedIntentIndex', this.state._selectedVisIdxs);\n                        view.model.save();\n                        return;\n                    }\n                }\n            }\n            generateTabItems() {\n                return (this.props.model.get(\"recommendations\").map((actionResult, tabIdx) => React.createElement(react_bootstrap_1.Tab, { eventKey: actionResult.action, title: actionResult.action },\n                    React.createElement(chartGallery_1.default\n                    // this exists to prevent chart gallery from refreshing while changing tabs\n                    // This is an anti-pattern for React, but is necessary here because our chartgallery is very expensive to initialize\n                    , { \n                        // this exists to prevent chart gallery from refreshing while changing tabs\n                        // This is an anti-pattern for React, but is necessary here because our chartgallery is very expensive to initialize\n                        key: 'no refresh', ref: this.chartComponents[tabIdx], title: actionResult.action, description: actionResult.description, multiple: true, maxSelectable: 10, onChange: this.onListChanged.bind(this, tabIdx), graphSpec: actionResult.vspec, currentVisShow: !lodash_1.default.isEmpty(this.props.model.get(\"current_vis\")), plottingScale: this.props.model.get(\"plotting_scale\") }))));\n            }\n            generateNoRecsWarning() {\n                if (this.state.message != \"\") {\n                    return React.createElement(\"div\", { id: \"no-recs-footer\", style: { display: \"flex\" } },\n                        React.createElement(\"div\", { id: \"no-recs\", className: \"fa fa-exclamation-triangle\" }),\n                        React.createElement(\"div\", null,\n                            React.createElement(\"p\", { className: \"warnMsgText\", dangerouslySetInnerHTML: { __html: this.state.message.replace(/<[^>]+>/g, '') } })));\n                }\n            }\n            render() {\n                var buttonsEnabled = Object.keys(this.state._selectedVisIdxs).length > 0;\n                var intentEnabled = Object.keys(this.state._selectedVisIdxs).length == 1 && Object.values(this.state._selectedVisIdxs)[0].length == 1;\n                const height = (350 + 160 * (this.state.plottingScale - 1)).toString() + \"px\";\n                if (this.state.recommendations.length == 0) {\n                    return (React.createElement(\"div\", { id: \"oneViewWidgetContainer\", style: { flexDirection: 'column' } },\n                        React.createElement(\"div\", { style: { display: 'flex', flexDirection: 'row', height: height } },\n                            React.createElement(currentVis_1.default, { intent: this.state.intent, currentVisSpec: this.state.currentVis, numRecommendations: this.state.recommendations.length, onChange: this.handleCurrentVisSelect, plottingScale: this.state.plottingScale })),\n                        React.createElement(buttonsBroker_1.default, { buttonsEnabled: buttonsEnabled, deleteSelection: this.deleteSelection, exportSelection: this.exportSelection, setIntent: this.setIntent, closeExportInfo: this.closeExportInfo, tabItems: this.state.tabItems, showAlert: this.state.showAlert, intentEnabled: intentEnabled }),\n                        this.generateNoRecsWarning()));\n                }\n                else if (this.state.recommendations.length > 0) {\n                    return (React.createElement(\"div\", { id: \"widgetContainer\", style: { flexDirection: 'column' } },\n                        React.createElement(\"div\", { style: { display: 'flex', flexDirection: 'row', height: height } },\n                            React.createElement(currentVis_1.default, { intent: this.state.intent, currentVisSpec: this.state.currentVis, numRecommendations: this.state.recommendations.length, onChange: this.handleCurrentVisSelect, plottingScale: this.state.plottingScale }),\n                            React.createElement(\"div\", { id: \"tabBanner\" },\n                                React.createElement(\"p\", { className: \"title-description\", style: { visibility: !lodash_1.default.isEmpty(this.state.currentVis) ? 'visible' : 'hidden' } }, \"You might be interested in...\"),\n                                React.createElement(react_bootstrap_1.Tabs, { activeKey: this.state.activeTab, id: \"tabBannerList\", onSelect: this.handleSelect, className: !lodash_1.default.isEmpty(this.state.currentVis) ? \"tabBannerPadding\" : \"\" }, this.state.tabItems))),\n                        React.createElement(buttonsBroker_1.default, { buttonsEnabled: buttonsEnabled, deleteSelection: this.deleteSelection, exportSelection: this.exportSelection, setIntent: this.setIntent, closeExportInfo: this.closeExportInfo, tabItems: this.state.tabItems, showAlert: this.state.showAlert, intentEnabled: intentEnabled }),\n                        React.createElement(infoBtn_1.default, { message: this.state.longDescription, toggleInfoPanel: this.toggleInfoPanel, openInfo: this.state.openInfo }),\n                        React.createElement(warningBtn_1.default, { message: this.state.message, toggleWarningPanel: this.toggleWarningPanel, openWarning: this.state.openWarning })));\n                }\n            }\n        }\n        const $app = document.createElement(\"div\");\n        const App = React.createElement(ReactWidget, view);\n        ReactDOM.render(App, $app); // Renders the app\n        view.el.append($app); //attaches the rendered app to the DOM (both are required for the widget to show)\n        utils_1.dispatchLogEvent(\"initWidget\", \"\");\n    }\n}\nexports.LuxWidgetView = LuxWidgetView;\n//# sourceMappingURL=widget.js.map"],"sourceRoot":""}